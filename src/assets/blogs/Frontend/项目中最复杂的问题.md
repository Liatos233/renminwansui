### 要点

#### 1 项目 debug 过程和版本管理

- 项目部署上线后用户反馈发现出现表单内容丢失问题，需要快速响应
- 评估是否需要使得正式服回退版本到未出问题的版本
- 查找 git 提交版本记录，发现是代码错误合并问题导致代码丢失
- 在开发分支上加上丢失代码，全面测试无误后发布到 master 分支上
- 规范合并操作，统一由组长进行合并和发布操作，以及 ESlint 和 Prettier

#### 2 路由鉴权

- 目标是实现按照角色进行路由鉴权
- 后端添加角色字段，按照角色进行权限分级
- 前端配置路由时设置每个路由的角色，比如按照需求分为游客、普通用户、管理员
- 前端通过路由守卫进行鉴权拦截，按照后端获取到的角色信息，筛选可访问的路由表并设置重定向

#### 3 白屏优化

- 用户反馈网站首次加载白屏事件太久
- 使用 Google PageSpeed 分析网站
- 尝试添加动画，使得用户交互更加友好
- 通过性能分析和网络分析，发现某个 chunk 过大导致页面显示被阻塞
- 查看 webpack 打包后的 build 包，发现可以尝试进行代码拆分
- 关闭 sourceMap
- 开启 Gzip 压缩、图片压缩
- 使用 MiniCssExtractPlugin 提取公共 CSS
- 使用 SplitChunksPlugin 将模块按照功能复杂度进行打包
- 使用 babelPluginImportPlugin 配置 Antd 按需加载

#### 4 兼容性问题

- 项目技术栈选型时需要考虑浏览器兼容性，比如 Vue 3.x 只支持原生支持 ES2015 的浏览器
- package.json 配置 browserslist 用于告知 Autoprefixer(自动添加 CSS 浏览器前缀)、Babel(JS 向后兼容编译器)、Polyfill(提供新特性的模拟实现) 等
- Can I Use 网站查看不同浏览器中各种前端特性的兼容性信息
